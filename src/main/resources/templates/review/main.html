<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{ layout/basic-layout }">

<div layout:fragment="content">
<!-- style part -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
<style>
	#btnCreate {
		width: 30px;
		text-align: center;
		background-color: white;
		border: thin solid black;
		border-radius: 30px;
		padding: 15px;
		font-size: 25px;
		position: fixed;
	}
	
	#btnCreate:hover {
		color: black;
	}
	
	#title {
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
</style>
<!-- style part end -->

<div style="width: 93%; text-align: right;">
	<a id="btnCreate" th:href="@{ /review/create }"><i class="bi bi-pencil"></i></a>
</div>

<div style="width:80%; margin:auto;">
	<div style="margin: 30px 0; text-align: center;">
		<form id="formSearch">
			<select name="type" style="font-size: 18px; border: none; outline: none; margin-right: 10px;">
				<option value="r">Review</option>
				<option value="m">Meeting</option>
			</select>
			<span style="display: inline-block; border-bottom: 1px solid black;">
				<input id="search" name="keyword" type="text" placeholder="Search..." style="border: none; outline: none; font-size: 36px;"/>
				<button id="btnSearch" style="border: none; background-color: white; font-size: 36px;"><i class="bi bi-search"></i></button>
			</span>
		</form>
	</div>
	
	<div><!-- slide part -->
		<div style="width:100%; height: 400px; border:3px solid black">
			<button style="font-size: 36px; background-color: white; border: none;"><i class="bi bi-dash-lg"></i></button>
			<button style="font-size: 36px; background-color: white; border: none;"><i class="bi bi-dash-lg"></i></button>
			<button style="font-size: 36px; background-color: white; border: none;"><i class="bi bi-dash-lg"></i></button>
		</div>
	</div><!-- slide part end -->
	
	<div style="margin: 30px 0;"><!-- review block -->
		<div style="font-weight: bold; font-size: 28px; margin-bottom: 10px; padding-bottom: 10px; border-bottom: thin solid black;">Reviews</div>
		<div><!-- review block part -->
			<div th:each="reviews : ${ reviewAll }" style="display: inline-block; margin: 10px 12px;">
				<a th:href="@{ /review/detail?reviewId={reviewId} (reviewId = ${ reviews.reviewId }) }">
					<div style="width: 350px; height: 200px; margin: 5px 0; border: 1px solid black;"></div>
					<div id="title" style="width: 350px; font-weight: bold; font-size: 21px;" th:text="${ reviews.title }"></div>
					<div th:text="${ reviews.idName }"></div>
					<div th:text="${ #temporals.format(reviews.createdTime, 'yyyy/MM/dd') }"></div>
					<div style="font-size: small;">
						<span style="margin-right: 10px; color:gray;">
							<i class="bi bi-eye" style="padding-right: 3px;"></i>
							<span th:text="${ reviews.watch }"></span>
						</span>
						<span style="margin-right: 10px; color:gray;">
							<i class="bi bi-hearts" style="padding-right: 3px;"></i>
							<span th:text="${ reviews.heart }"></span>
						</span>
						<span style="margin-right: 10px; color:gray;">
							<i class="bi bi-chat-text" style="padding-right: 3px;"></i>
							<span th:text="${ reviews.replyCount }"></span>
						</span>
					</div>
				</a>
			</div>
		</div><!-- review block part end -->
	</div>
	
	<!-- meeting block
	<div>
		<h5>MEETING LIST</h5>
		<div>
			<div style="width: 400px; height: 300px; border: 1px solid black;"></div>
			<div>meeting title</div>
			<div>writer</div>
			<div>created time</div>
			<div>member 5</div>
			<div>d day</div>
		</div>
	</div> -->
</div><!-- review, meeting part end -->

</div><!-- FRAGMENT END -->

<th:block layout:fragment="script">
	<script>
		const formSearch = document.querySelector('#formSearch');
		const btnSearch = document.querySelector('#btnSearch');
		btnSearch.addEventListener('click', () => {
			formSearch.action = '/review/search';
			formSearch.method = 'post';
			formSearch.submit();
		})
	</script>
</th:block>
</html>